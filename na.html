<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script type="text/javascript">
	var body = document.getElementsByTagName("body")[0];
	var arr = ['http://img2.imgtn.bdimg.com/it/u=2374976315,2502495871&fm=26&gp=0.jpg','http://img2.imgtn.bdimg.com/it/u=196684572,2279622458&fm=26&gp=0.jpg'];
	var num = 0;
	for(var i=0;i<arr.length;i++){
		var img = new Image();
		img.src = arr[i];//图片加载路径
		img.onerror = function(){//图片出错判断
			num++;
			alert('出错了');
			if(num==arr.leng){
				fn();
			}
		}
		
		img.onload = function(){//图片加载完成
			num++;
			if(num==arr.length){
				fn();
			}
			
		}	
		body.innerHTML +='<img src ='+arr[i]+'>' ;
	}
		function fn(){
			alert('加载完成！');
		}
</script>
